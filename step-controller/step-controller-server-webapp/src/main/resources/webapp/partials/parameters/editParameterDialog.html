<div class="modal-header">
	<h3 class="modal-title">{{mode=='edit'?'Edit':'New'}} Parameter</h3>
</div>
<div class="modal-body">
	<strong>{{description}}</strong>
	<form class="form-inline" style="margin-bottom: 15px;" ng-submit="save()">
		<div class="form-group">
			<div class="btn-group" uib-dropdown>
				<button type="button" class="btn" ng-class="scopeCssClass(parameter.scope)">{{scopeLabel(parameter.scope)}}</button>
				<button type="button" class="btn" uib-dropdown-toggle>
					<span class="caret"></span>
				</button>
				<ul uib-dropdown-menu>
					<li role="menuitem" ng-if="AuthService.hasRight('param-global-write')">
						<a ng-click="selectScope('GLOBAL')"><i class="glyphicon {{scopeIcon('GLOBAL')}} {{scopeSpanCssClass('GLOBAL')}}"></i> {{scopeLabel('GLOBAL')}}</a>
					</li>
					<li role="menuitem" ng-if="isApplicationScopeEnabled">
						<a ng-click="selectScope('APPLICATION')"><i class="glyphicon {{scopeIcon('APPLICATION')}} {{scopeSpanCssClass('APPLICATION')}}"></i> {{scopeLabel('APPLICATION')}}</a>
					</li>
					<li role="menuitem">
						<a ng-click="selectScope('FUNCTION')"><i class="glyphicon {{scopeIcon('FUNCTION')}} {{scopeSpanCssClass('FUNCTION')}}"></i> {{scopeLabel('FUNCTION')}}</a>
					</li>
				</ul>
			</div>
		</div>
		<div ng-if="parameter.scope=='APPLICATION'" class="form-group">
			<st-custom-form-input st-screen="'functionTable'" st-input-id="'attributes.application'" ng-model="parameter.scopeEntity"></st-custom-form-input>
			<span class="glyphicon glyphicon-question-sign" uib-tooltip="The name of the applicationd this parameter is restricted to"></span>
		</div>
		<div ng-if="parameter.scope=='FUNCTION'" class="form-group">
			<input class="form-control"	ng-model="parameter.scopeEntity">
			<span class="glyphicon glyphicon-question-sign" uib-tooltip="The name of the Keyword this parameter is restricted to"></span>
		</div>
	</form>
	<form ng-submit="save()">
		<div class="form-group">
			<label>Key</label> 
			<span class="glyphicon glyphicon-question-sign" uib-tooltip="Keys containing 'pwd' or 'password' will be automatically protected"></span>
			<input class="form-control"	ng-model="parameter.key" autofocus>
		</div>
		<div class="form-group">
			<label>Value</label> 
			<input class="form-control"	ng-model="parameter.value">
		</div>
		<div class="form-group">
			<label>Activation expression</label> 
			<input class="form-control"	ng-model="parameter.activationExpression.script">
		</div>
		<div class="form-group">
			<label>Description</label> 
			<input class="form-control"	ng-model="parameter.description">
		</div>
		<div class="form-group">
			<label>Priority</label>
			<span class="glyphicon glyphicon-question-sign" uib-tooltip="Optional. The priority defines the order in which the key-value pairs are trying to be matched when evaluating the activation expressions."></span> 
			<input class="form-control"	ng-model="parameter.priority">
		</div>
		<input type="submit" style="position: absolute; left: -9999px; width: 1px; height: 1px;" />
	</form>
</div>
<div class="modal-footer">
	<button class="btn btn-primary" type="button" ng-click="save()">Save</button>
	<button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
</div>